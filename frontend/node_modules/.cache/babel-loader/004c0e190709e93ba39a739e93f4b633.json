{"ast":null,"code":"import _slicedToArray from\"C:/Projects/MotelPuro/motel-puro/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import axios from'axios';import'../CSS/History.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Lodging=function Lodging(_ref){var lodging=_ref.lodging;var people=lodging.adults+lodging.children;var a=lodging.arrival.toString().slice(0,10);// var today = new Date()\n// var dd = today.getDate()\n// var mm = today.getMonth() + 1\n// var yyyy = today.getFullYear()\n// today = yyyy + '-' + mm + '-' + dd\nreturn/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Etunimi Sukunimi\"}),/*#__PURE__*/_jsx(\"th\",{children:a}),/*#__PURE__*/_jsx(\"th\",{children:lodging.departure}),/*#__PURE__*/_jsx(\"th\",{children:people})]});};var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lodgings=_useState2[0],setLodgings=_useState2[1];useEffect(function(){console.log('effect');axios.get('http://localhost:3001/api/lodgings').then(function(response){console.log('promise fulfilled');setLodgings(response.data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{id:\"histWrap\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"all\",children:\"Majoituksia yhteens\\xE4: \"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"bold\",children:\"Nimi\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bold\",children:\"Saapumisp\\xE4iv\\xE4\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bold\",children:\"L\\xE4ht\\xF6p\\xE4iv\\xE4\"}),/*#__PURE__*/_jsx(\"th\",{className:\"bold\",children:\"Henkil\\xF6t\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:lodgings.map(function(lodging){return/*#__PURE__*/_jsx(Lodging,{lodging:lodging},lodging.id);})})]})]});};export default App;","map":{"version":3,"names":["useState","useEffect","axios","Lodging","lodging","people","adults","children","a","arrival","toString","slice","departure","App","lodgings","setLodgings","console","log","get","then","response","data","map","id"],"sources":["C:/Projects/MotelPuro/motel-puro/frontend/src/JS/History.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport '../CSS/History.css'\r\n\r\nconst Lodging = ({lodging}) => {\r\n  const people = lodging.adults + lodging.children\r\n  const a = lodging.arrival.toString().slice(0, 10)\r\n  // var today = new Date()\r\n  // var dd = today.getDate()\r\n  // var mm = today.getMonth() + 1\r\n  // var yyyy = today.getFullYear()\r\n\r\n  // today = yyyy + '-' + mm + '-' + dd\r\n\r\n  return (\r\n    <tr>\r\n      <th>Etunimi Sukunimi</th>\r\n      <th>{a}</th>\r\n      <th>{lodging.departure}</th>\r\n      <th>{people}</th>\r\n    </tr>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [lodgings, setLodgings] = useState([])\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    axios\r\n      .get('http://localhost:3001/api/lodgings')\r\n      .then(response => {\r\n        console.log('promise fulfilled')\r\n        setLodgings(response.data)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n      <div id='histWrap'>\r\n        <h2 id=\"all\">Majoituksia yhteensä: </h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th className='bold'>Nimi</th>\r\n              <th className='bold'>Saapumispäivä</th>\r\n              <th className='bold'>Lähtöpäivä</th>\r\n              <th className='bold'>Henkilöt</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {lodgings.map(lodging =>\r\n              <Lodging key={lodging.id} lodging={lodging} />\r\n              )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App"],"mappings":"+HAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,oBAAP,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,CAC7B,GAAMC,CAAAA,MAAM,CAAGD,OAAO,CAACE,MAAR,CAAiBF,OAAO,CAACG,QAAxC,CACA,GAAMC,CAAAA,CAAC,CAAGJ,OAAO,CAACK,OAAR,CAAgBC,QAAhB,GAA2BC,KAA3B,CAAiC,CAAjC,CAAoC,EAApC,CAAV,CACA;AACA;AACA;AACA;AAEA;AAEA,mBACE,mCACE,wCADF,cAEE,oBAAKH,CAAL,EAFF,cAGE,oBAAKJ,OAAO,CAACQ,SAAb,EAHF,cAIE,oBAAKP,MAAL,EAJF,GADF,CAQD,CAlBD,CAoBA,GAAMQ,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChB,cAAgCb,QAAQ,CAAC,EAAD,CAAxC,wCAAOc,QAAP,eAAiBC,WAAjB,eAEAd,SAAS,CAAC,UAAM,CACde,OAAO,CAACC,GAAR,CAAY,QAAZ,EACAf,KAAK,CACFgB,GADH,CACO,oCADP,EAEGC,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBJ,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACAF,WAAW,CAACK,QAAQ,CAACC,IAAV,CAAX,CACD,CALH,EAMD,CARQ,CAQN,EARM,CAAT,CAUA,mBACI,aAAK,EAAE,CAAC,UAAR,wBACE,WAAI,EAAE,CAAC,KAAP,uCADF,cAEE,sCACE,oCACE,mCACE,WAAI,SAAS,CAAC,MAAd,kBADF,cAEE,WAAI,SAAS,CAAC,MAAd,iCAFF,cAGE,WAAI,SAAS,CAAC,MAAd,oCAHF,cAIE,WAAI,SAAS,CAAC,MAAd,yBAJF,GADF,EADF,cASE,uBACGP,QAAQ,CAACQ,GAAT,CAAa,SAAAlB,OAAO,qBACnB,KAAC,OAAD,EAA0B,OAAO,CAAEA,OAAnC,EAAcA,OAAO,CAACmB,EAAtB,CADmB,EAApB,CADH,EATF,GAFF,GADJ,CAqBD,CAlCD,CAoCA,cAAeV,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}