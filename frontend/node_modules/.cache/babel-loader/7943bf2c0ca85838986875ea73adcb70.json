{"ast":null,"code":"import _slicedToArray from\"C:/Projects/MotelPuro/motel-puro/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import lodgingService from'../services/lodging.js';import axios from'axios';import'../CSS/Lodging.css';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(_ref){var propLodging=_ref.propLodging,setCurrent=_ref.setCurrent;var _useState=useState(propLodging),_useState2=_slicedToArray(_useState,2),lodging=_useState2[0],setLodging=_useState2[1];var _useState3=useState(new Date()),_useState4=_slicedToArray(_useState3,2),departure=_useState4[0],setDeparture=_useState4[1];var changeLodging=function changeLodging(event){event.preventDefault();var endLodging={arrival:lodging.arrival,adults:lodging.adults,children:lodging.children,departure:departure};lodgingService.update(lodging.id,endLodging).then(function(response){setCurrent(null);});};var handleDepartureChange=function handleDepartureChange(event){setDeparture(new Date(event.target.value));};var people=lodging.adults+lodging.children;// const arrival = lodging.arrival.toString().slice(0, 10)\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"middle\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formBG\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"LOPETA MAJOITTAUTUMINEN\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:changeLodging,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Saapumisp\\xE4iv\\xE4:\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:lodging.arrival})}),/*#__PURE__*/_jsx(\"p\",{children:\"Henkil\\xF6iden m\\xE4\\xE4r\\xE4:\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:people})}),/*#__PURE__*/_jsx(\"label\",{children:\"L\\xE4ht\\xF6p\\xE4iv\\xE4:\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"date\",value:departure.toISOString().slice(0,10),type:\"date\",onChange:handleDepartureChange}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",type:\"submit\",children:\"KIRJAA\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"submit\",type:\"\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/muokkaa\",id:\"change\",children:\"MUOKKAA\"})]})]})]})});};export default App;","map":{"version":3,"names":["useState","useEffect","lodgingService","axios","Link","App","propLodging","setCurrent","lodging","setLodging","Date","departure","setDeparture","changeLodging","event","preventDefault","endLodging","arrival","adults","children","update","id","then","response","handleDepartureChange","target","value","people","toISOString","slice"],"sources":["C:/Projects/MotelPuro/motel-puro/frontend/src/JS/End.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport lodgingService from '../services/lodging.js'\r\nimport axios from 'axios'\r\nimport '../CSS/Lodging.css'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nconst App = ({propLodging, setCurrent}) => {\r\n  const [lodging, setLodging] = useState(propLodging)\r\n  const [departure, setDeparture] = useState(new Date())\r\n\r\n  const changeLodging = (event) => {\r\n    event.preventDefault() \r\n    const endLodging = {\r\n      arrival: lodging.arrival,\r\n      adults: lodging.adults,\r\n      children: lodging.children,\r\n      departure: departure\r\n    }\r\n    lodgingService\r\n    .update(lodging.id, endLodging)\r\n    .then(response => {\r\n      setCurrent(null)\r\n    })\r\n  }\r\n\r\n  const handleDepartureChange = (event) => {\r\n    setDeparture(new Date(event.target.value))\r\n  }\r\n\r\n  const people = lodging.adults + lodging.children\r\n  // const arrival = lodging.arrival.toString().slice(0, 10)\r\n\r\n  return (\r\n        <div id='middle'>\r\n          <div className='formBG'>\r\n              <h2 className='title'>LOPETA MAJOITTAUTUMINEN</h2>\r\n              <form onSubmit={changeLodging}>\r\n                <p>Saapumispäivä:</p>\r\n                <p><b>{lodging.arrival}</b></p>\r\n                <p>Henkilöiden määrä:</p>\r\n                <p><b>{people}</b></p>\r\n    \r\n                <label>Lähtöpäivä:</label> <br/>\r\n                <input className='date' value={departure.toISOString().slice(0, 10)} type='date' onChange={handleDepartureChange}/> <br/>\r\n    \r\n                <button className='submit' type='submit'>KIRJAA</button>\r\n                <button className='submit' type=''> <Link to=\"/muokkaa\" id=\"change\">MUOKKAA</Link></button>\r\n              </form>\r\n          </div>\r\n        </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App"],"mappings":"+HAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,oBAAP,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,MAA+B,IAA7BC,CAAAA,WAA6B,MAA7BA,WAA6B,CAAhBC,UAAgB,MAAhBA,UAAgB,CACzC,cAA8BP,QAAQ,CAACM,WAAD,CAAtC,wCAAOE,OAAP,eAAgBC,UAAhB,eACA,eAAkCT,QAAQ,CAAC,GAAIU,CAAAA,IAAJ,EAAD,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,OAAO,CAAET,OAAO,CAACS,OADA,CAEjBC,MAAM,CAAEV,OAAO,CAACU,MAFC,CAGjBC,QAAQ,CAAEX,OAAO,CAACW,QAHD,CAIjBR,SAAS,CAAEA,SAJM,CAAnB,CAMAT,cAAc,CACbkB,MADD,CACQZ,OAAO,CAACa,EADhB,CACoBL,UADpB,EAECM,IAFD,CAEM,SAAAC,QAAQ,CAAI,CAChBhB,UAAU,CAAC,IAAD,CAAV,CACD,CAJD,EAKD,CAbD,CAeA,GAAMiB,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACV,KAAD,CAAW,CACvCF,YAAY,CAAC,GAAIF,CAAAA,IAAJ,CAASI,KAAK,CAACW,MAAN,CAAaC,KAAtB,CAAD,CAAZ,CACD,CAFD,CAIA,GAAMC,CAAAA,MAAM,CAAGnB,OAAO,CAACU,MAAR,CAAiBV,OAAO,CAACW,QAAxC,CACA;AAEA,mBACM,YAAK,EAAE,CAAC,QAAR,uBACE,aAAK,SAAS,CAAC,QAAf,wBACI,WAAI,SAAS,CAAC,OAAd,qCADJ,cAEI,cAAM,QAAQ,CAAEN,aAAhB,wBACE,2CADF,cAEE,gCAAG,mBAAIL,OAAO,CAACS,OAAZ,EAAH,EAFF,cAGE,qDAHF,cAIE,gCAAG,mBAAIU,MAAJ,EAAH,EAJF,cAME,kDANF,kBAM6B,aAN7B,cAOE,cAAO,SAAS,CAAC,MAAjB,CAAwB,KAAK,CAAEhB,SAAS,CAACiB,WAAV,GAAwBC,KAAxB,CAA8B,CAA9B,CAAiC,EAAjC,CAA/B,CAAqE,IAAI,CAAC,MAA1E,CAAiF,QAAQ,CAAEL,qBAA3F,EAPF,kBAOsH,aAPtH,cASE,eAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,QAAhC,oBATF,cAUE,gBAAQ,SAAS,CAAC,QAAlB,CAA2B,IAAI,CAAC,EAAhC,4BAAoC,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,EAAE,CAAC,QAAvB,qBAApC,GAVF,GAFJ,GADF,EADN,CAoBD,CA9CD,CAgDA,cAAenB,CAAAA,GAAf"},"metadata":{},"sourceType":"module"}