{"ast":null,"code":"import _slicedToArray from\"C:/Projects/MotelPuro/motel-puro/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import lodgingService from'../services/lodging';import'../CSS/Lodging.css';import{Router,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Lodging=function Lodging(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),adults=_useState4[0],setAdults=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),children=_useState6[0],setChildren=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),arrival=_useState8[0],setArrival=_useState8[1];var location=useLocation();useEffect(function(){var stateLodging=location.state;setId(stateLodging.id);setAdults(stateLodging.adults);setChildren(stateLodging.children);setArrival(stateLodging.arrival);},[]);var updateLodging=function updateLodging(event){event.preventDefault();var changedLodging={arrival:arrival,adults:adults,children:children,departure:null};lodgingService.update(id,changedLodging);Router.push(\"/\");};var minusA=function minusA(){if(adults>1){setAdults(adults-1);}};var plusA=function plusA(){setAdults(adults+1);};var minusC=function minusC(){if(children>0){setChildren(children-1);}};var plusC=function plusC(){setChildren(children+1);};var people=adults+children;var handleAdultsChange=function handleAdultsChange(event){console.log(event.target.value);setAdults(event.target.value===\"\"?0:parseInt(event.target.value));};var handleChildrenChange=function handleChildrenChange(event){console.log(event.target.value);setChildren(event.target.value===\"\"?0:parseInt(event.target.value));};var handleArrivalChange=function handleArrivalChange(event){setArrival(new Date(event.target.value));};return/*#__PURE__*/_jsx(\"div\",{id:\"middle\",children:id&&/*#__PURE__*/_jsxs(\"div\",{className:\"formBG\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"MUOKKAA MAJOITTAUTUMISTA\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateLodging,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Saapumisp\\xE4iv\\xE4:\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"date\",value:arrival.toISOString().slice(0,10),type:\"date\",onChange:handleArrivalChange}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Aikuisia:\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:minusA,children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{className:\"counter\",value:adults===0?\"\":adults,onChange:handleAdultsChange}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:plusA,children:\"+\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Lapsia: \"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:minusC,children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{className:\"counter\",value:children===0?\"\":children,onChange:handleChildrenChange}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:plusC,children:\"+\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Henkil\\xF6iden m\\xE4\\xE4r\\xE4: \",/*#__PURE__*/_jsx(\"b\",{children:people})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",type:\"submit\",children:\"MUOKKAA\"})]})]})});};export default Lodging;","map":{"version":3,"names":["useState","useEffect","lodgingService","Router","useLocation","Lodging","id","setId","adults","setAdults","children","setChildren","arrival","setArrival","location","stateLodging","state","updateLodging","event","preventDefault","changedLodging","departure","update","push","minusA","plusA","minusC","plusC","people","handleAdultsChange","console","log","target","value","parseInt","handleChildrenChange","handleArrivalChange","Date","toISOString","slice"],"sources":["C:/Projects/MotelPuro/motel-puro/frontend/src/JS/Change.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport lodgingService from '../services/lodging'\r\nimport '../CSS/Lodging.css'\r\nimport { Router, useLocation } from 'react-router-dom'\r\n\r\nconst Lodging = () => {\r\n  const [id, setId] = useState(null)\r\n  const [adults, setAdults] = useState(null)\r\n  const [children, setChildren] = useState(null)\r\n  const [arrival, setArrival] = useState(null)\r\n  const location = useLocation()\r\n  \r\n  useEffect(() => {\r\n    const stateLodging = location.state\r\n    setId(stateLodging.id)\r\n    setAdults(stateLodging.adults)\r\n    setChildren(stateLodging.children)\r\n    setArrival(stateLodging.arrival)\r\n  },[])\r\n\r\n  const updateLodging = (event) => {\r\n    event.preventDefault()\r\n    const changedLodging = {\r\n      arrival,\r\n      adults,\r\n      children,\r\n      departure: null\r\n    }\r\n    lodgingService\r\n    .update(id, changedLodging)\r\n    Router.push(\"/\")\r\n  }\r\n\r\n  const minusA = () => {\r\n    if (adults > 1) {\r\n      setAdults(adults - 1)\r\n    }\r\n  }\r\n\r\n  const plusA = () => {\r\n    setAdults(adults + 1)\r\n  }\r\n\r\n  const minusC = () => {\r\n    if (children > 0) {\r\n      setChildren(children - 1)\r\n    }\r\n  }\r\n\r\n  const plusC = () => {\r\n    setChildren(children + 1)\r\n  }\r\n\r\n  var people = adults + children\r\n\r\n  const handleAdultsChange = (event) => {\r\n    console.log(event.target.value)\r\n    setAdults(event.target.value === \"\" ? 0 : parseInt(event.target.value))\r\n  }\r\n\r\n  const handleChildrenChange = (event) => {\r\n    console.log(event.target.value)\r\n    setChildren(event.target.value === \"\" ? 0 : parseInt(event.target.value))\r\n  }\r\n\r\n  const handleArrivalChange = (event) => {\r\n    setArrival(new Date(event.target.value))\r\n  }\r\n\r\n  return (\r\n      <div id='middle'>\r\n        {id && (\r\n          <div className='formBG'>\r\n          <h2 className='title'>MUOKKAA MAJOITTAUTUMISTA</h2>\r\n          <form onSubmit={updateLodging}>\r\n            <label>Saapumispäivä:</label> <br/>\r\n            <input className='date' value={arrival.toISOString().slice(0, 10)} type='date' onChange={handleArrivalChange}/> <br/>\r\n              \r\n            <label>Aikuisia:</label> <br/>\r\n            <button type='button' onClick={minusA}>-</button>\r\n            <input className='counter' value={adults === 0 ? \"\" : adults} onChange={handleAdultsChange}/>\r\n            <button type='button' onClick={plusA}>+</button> <br/>\r\n\r\n            <label>Lapsia: </label> <br/>\r\n            <button type='button' onClick={minusC}>-</button>\r\n            <input className='counter' value={children === 0 ? \"\" : children} onChange={handleChildrenChange}/>\r\n            <button type='button' onClick={plusC}>+</button>\r\n            <p>Henkilöiden määrä: <b>{people}</b></p>\r\n\r\n            <button className='submit' type='submit'>MUOKKAA</button>\r\n          </form>\r\n        </div>\r\n        )}\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Lodging"],"mappings":"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"},"metadata":{},"sourceType":"module"}